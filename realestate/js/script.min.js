const jsMediaQueries={init:function(e={}){if(this.mobile=e.mobile||768,this.breakpoints=e.breakpoints||null,this.breakpoints){this.breakpoints.keys=Object.keys(this.breakpoints);for(let e=0;e<this.breakpoints.keys.length;e++)this.breakpoints.keys[e]=Number(this.breakpoints.keys[e]);this.breakpoints.keys.push(0),this.breakpoints.keys.sort(((e,t)=>e-t)),window.addEventListener("resize",this.check.bind(this)),this.check(0,!0)}},check:function(e,t=!1){for(let e=0;e<this.breakpoints.keys.length&&window.innerWidth>this.breakpoints.keys[e];e++)this.state=this.breakpoints.keys[e];t&&(this.prev_state=this.state),this.state==this.prev_state||t||(this.state>this.prev_state?this.breakpoints[this.state]():this.breakpoints[this.prev_state](),this.prev_state=this.state)}};jsMediaQueries.init({mobile:768,breakpoints:{568:()=>{},768:()=>{header.mobileViewService()},1228:()=>{}}});const scrollLock={lockedClassName:"_locked",paddingItems:document.querySelectorAll(".scroll-lock-item-p"),marginItems:document.querySelectorAll(".scroll-lock-item-m"),lock:function(){if(document.body.classList.contains(this.lockedClassName))return;this.scrollbarWidth=window.innerWidth-document.body.offsetWidth;let e=this;function t(t,s){for(let i=0;i<t.length;i++)t[i][s]=parseFloat(getComputedStyle(t[i])[s]),t[i].style[s]=t[i][s]+e.scrollbarWidth+"px"}t(this.paddingItems,"paddingRight"),t(this.marginItems,"marginRight"),document.body.classList.add(this.lockedClassName)},unlock:function(e=0){let t=this;setTimeout((()=>{function e(e,t){for(let s=0;s<e.length;s++)e[s].style[t]=""}e(this.paddingItems,"paddingRight"),e(this.marginItems,"marginRight"),document.body.classList.remove(t.lockedClassName)}),e)}},transitionLock={locked:!1,check:function(e=0){let t=this,s=this.locked;return 0==t.locked&&(t.locked=!0,setTimeout((function(){t.locked=!1}),e)),s}},header={refs:{mobile:jsMediaQueries.mobile,translock:transitionLock,scrlock:scrollLock},names:{header:".header",menu:".hdr-menu",menuItems:".hdr-menu-items",menuItem:".hdr-menu-item",menuOpenBtn:".hdr-menu-open-btn",menuCloseBtn:".hdr-menu-close-btn",menuBackBtn:".hdr-menu-back-btn",menuArea:".hdr-menu-turn-off-area",menuOptions:"#header-menu-options",submenu:".hdr-submenu",submenuDropLink:".submenu-drop-link",thisPageClass:"this-page",varTimer:"--timer-menu",varHeight:"--header-height"},init:function(e={}){this.headerElem=document.querySelector(this.names.header);let t=1e3*parseFloat(getComputedStyle(document.body).getPropertyValue(this.names.varTimer))||0;this.setCssHeaderHeight(),window.addEventListener("resize",this.setCssHeaderHeight.bind(this)),e.menu&&this.menu.init(this,t,this.names),e.submenu&&this.submenu.init(this,t,this.names),e.hidingHeader&&window.addEventListener("load",(()=>this.hidingHeader.init(this)))},setCssHeaderHeight:function(){let e=getComputedStyle(this.headerElem).height;document.body.style.setProperty(this.names.varHeight,e),this.headerHeight=parseFloat(e)},mobileViewService:function(){this.menu.toggle(),this.menu.hideOnViewChange(),this.hidingHeader.calc()},menu:{isLoaded:!1,init:function(e,t,s){this.isLoaded=!0,this.root=e,this.timeout=t,this.menuElem=this.root.headerElem.querySelector(s.menu),this.buttons=this.root.headerElem.querySelectorAll(`${s.menuOpenBtn}, ${s.menuCloseBtn}, ${s.menuArea}`);let i=this.menuElem.querySelector(s.menuItems),n={};if("undefined"!=typeof headerMenuOptions&&(n=headerMenuOptions),n.links){let e={};for(let t=0;t<i.children.length;t++)e[i.children[t].dataset.name]=i.children[t];i.innerHTML="";for(let t=0;t<n.links.length;t++)i.appendChild(e[n.links[t]])}if(n.activeLink)for(let e=0;e<i.children.length;e++)if(i.children[e].dataset.name==n.activeLink){i.children[e].firstElementChild.classList.add(s.thisPageClass);break}n.elem=document.querySelector(s.menuOptions),n.elem&&n.elem.parentElement.removeChild(n.elem);for(let e=0;e<this.buttons.length;e++)this.buttons[e].addEventListener("click",this.toggle.bind(this))},toggle:function(e){if(this.isLoaded&&!this.root.refs.translock.check(this.timeout))if(this.menuElem.classList.contains("_active")){this.menuElem.classList.remove("_active");for(let e=0;e<this.buttons.length;e++)this.buttons[e].classList.remove("_active");this.root.refs.scrlock.unlock(this.timeout),this.root.submenu.closeAll()}else if(e){this.menuElem.classList.add("_active");for(let e=0;e<this.buttons.length;e++)this.buttons[e].classList.add("_active");this.root.refs.scrlock.lock(),this.root.hidingHeader.scroll(0,!0)}},hideOnViewChange:function(){if(this.isLoaded){let e=this;this.menuElem.style.display="none",setTimeout((()=>{e.menuElem.style.display=""}),e.timeout)}}},submenu:{isLoaded:!1,init:function(e,t,s){this.isLoaded=!0,this.root=e,this.timeout=t,this.sMenuElems=this.root.headerElem.querySelectorAll(s.submenu),0==this.sMenuElems.length&&console.log("Error: No submenu detected"),this.links=this.root.headerElem.querySelectorAll(s.submenuDropLink),this.backButtons=this.root.headerElem.querySelectorAll(s.menuBackBtn),this.links[0]&&(this.links[0].closest(s.menuItem).querySelector(s.submenu)?this.isOutside=!1:this.isOutside=!0);for(let e=0;e<this.backButtons.length;e++)this.backButtons[e].addEventListener("click",this.toggle.bind(this));for(let e=0;e<this.links.length;e++)this.links[e].addEventListener("click",this.toggle.bind(this)),this.links[e].addEventListener("mouseover",this.toggle.bind(this)),this.isOutside||this.links[e].closest(s.menuItem).addEventListener("mouseleave",this.toggle.bind(this));this.isOutside&&this.root.headerElem.addEventListener("mouseleave",this.toggle.bind(this))},toggle:function(e){if(!e)return;let t=this,s=!1;function i(s){let i=t.root.names[s];return i.match(/[#.]/)&&(i=i.substring(1)),e.currentTarget.classList.contains(i)}window.innerWidth<=this.root.refs.mobile&&(s=!0),s?"click"==e.type&&(i("submenuDropLink")&&this.open(e,s),i("menuBackBtn")&&this.close(e,s)):("mouseover"==e.type&&i("submenuDropLink")&&this.open(e,s),"mouseleave"==e.type&&(i("menuItem")||i("header"))&&this.close(e,s))},open:function(e,t){if(e.preventDefault(),!t||!this.root.refs.translock.check(this.timeout))if(this.isOutside){for(let e=0;e<this.links.length;e++)this.links[e].classList.add("_active");for(let e=0;e<this.sMenuElems.length;e++)this.sMenuElems[e].classList.add("_active")}else e.currentTarget.classList.add("_active"),e.currentTarget.nextElementSibling.classList.add("_active")},close:function(e,t){if(!t||!this.root.refs.translock.check(this.timeout))if(this.isOutside){let e=this.root.headerElem.querySelectorAll(`${this.root.names.menuItem} ._active, ${this.root.names.submenu}._active`);for(let t=0;t<e.length;t++)e[t].classList.remove("_active")}else{let t=e.currentTarget.closest(this.root.names.menuItem);for(let e=0;e<t.children.length;e++)t.children[e].classList.remove("_active")}},closeAll:function(){if(this.isLoaded){for(let e=0;e<this.links.length;e++)this.links[e].classList.remove("_active");for(let e=0;e<this.sMenuElems.length;e++)this.sMenuElems[e].classList.remove("_active")}}},hidingHeader:{isLoaded:!1,init:function(e){this.isLoaded=!0,this.root=e,this.hiddenPositionOffset=0,this.visiblePosition=parseFloat(getComputedStyle(this.root.headerElem).top),this.calc(),window.addEventListener("scroll",this.scroll.bind(this))},calc:function(){this.isLoaded&&(this.Y=this.YPrev=pageYOffset,this.diff=0,this.currentPos=this.visiblePosition,this.root.headerElem.style.top=this.currentPos+"px")},scroll:function(e,t){if(this.isLoaded&&!(window.innerWidth>this.root.refs.mobile)){if(t)return this.root.headerElem.style.top=this.visiblePosition+"px",void(this.currentPos=this.visiblePosition);(pageYOffset<this.Y+this.diff&&this.Y>this.YPrev||pageYOffset>this.Y+this.diff&&this.Y<this.YPrev)&&(this.diff=pageYOffset-this.Y),this.YPrev=this.Y,this.Y=pageYOffset-this.diff,this.currentPos-=this.Y-this.YPrev,this.hiddenPosition=-1*(this.root.headerHeight+this.hiddenPositionOffset),this.currentPos>this.visiblePosition&&(this.currentPos=this.visiblePosition),this.currentPos<this.hiddenPosition&&(this.currentPos=this.hiddenPosition),this.root.headerElem.style.top=this.currentPos+"px"}}}};header.init({menu:!0,hidingHeader:!0});const modal={refs:{translock:transitionLock,scrlock:scrollLock},init:function(e={}){if(this.elemName=e.elem||"modal",this.elem=document.querySelector("."+this.elemName),!this.elem)return;this.timeout=1e3*parseFloat(getComputedStyle(document.body).getPropertyValue("--timer-modal"))||0,this.windows=this.elem.querySelectorAll("."+this.elemName+"__window"),this.links=document.querySelectorAll(e.linkName?"."+e.linkName:".modal-link");for(let e=0;e<this.links.length;e++)this.links[e].addEventListener("click",this.open.bind(this));this.elem.addEventListener("click",function(e){e.target.closest("."+this.elemName+"__wrapper")||this.closeAll()}.bind(this));let t=this.elem.querySelectorAll("."+this.elemName+"__close-button");for(let e=0;e<t.length;e++)t[e].addEventListener("click",this.closeThis.bind(this));this.on=e.on||{}},open:function(e){if(this.refs.translock.check(this.timeout))return;e.preventDefault();let t=this.elem.querySelector(e.currentTarget.getAttribute("href"));t.classList.add("_open"),this.on[t.id]&&this.on[t.id].open&&this.on[t.id].open(e,t.querySelector("."+this.elemName+"__content > *:not(."+this.elemName+"__close-button)"),this.timeout),modal.check()},closeThis:function(e){if(this.refs.translock.check(this.timeout))return;let t=e.target.closest("."+this.elemName+"__window");t.classList.remove("_open"),this.on[t.id]&&this.on[t.id].close&&this.on[t.id].close(e,t.querySelector("."+this.elemName+"__content > *:not(."+this.elemName+"__close-button)"),this.timeout),modal.check()},closeAll:function(){if(!this.refs.translock.check(this.timeout)){for(let e=0;e<this.windows.length;e++)this.windows[e].classList.contains("_open")&&(this.windows[e].classList.remove("_open"),this.on[this.windows[e].id]&&this.on[this.windows[e].id].close&&this.on[this.windows[e].id].close(0,0,this.timeout));modal.check()}},check:function(){let e=0;for(let t=0;t<this.windows.length;t++)this.windows[t].classList.contains("_open")&&e++;e?(this.elem.classList.add("_visible"),this.refs.scrlock.lock()):(this.elem.classList.remove("_visible"),document.querySelector(".hdr-menu").classList.contains("_active")||this.refs.scrlock.unlock(this.timeout))}};modal.init({on:{"modal-login":{open:function(e,t,s){function i(e){let t=document.querySelector(".modal__tabs .tabs__buttons"),s=document.querySelector(".modal__tabs .tabs__content");for(let i=0;i<t.children.length;i++)t.children[i].classList.remove("_active"),s.children[i].classList.remove("_active"),i==e&&(t.children[i].classList.add("_active"),s.children[i].classList.add("_active"))}"login"==e.currentTarget.dataset.link&&i(0),"reg"==e.currentTarget.dataset.link&&i(1)}}}});class Select{constructor(e={}){if(this.elemName=e.elem||"select",this.elem=document.querySelector("."+this.elemName),!this.elem)return;this.header=this.elem.querySelector(".select__header"),this.headertext=this.elem.querySelector(".select__header-text"),this.list=this.elem.querySelector(".select__list-wrapper"),this.list.innerHTML="",this.basicSelect=this.elem.querySelectorAll("select option");let t=document.createElement("ul");t.classList.add("select__list"),this.list.appendChild(t);for(let e=0;e<this.basicSelect.length;e++){if(this.basicSelect[e].hasAttribute("disabled"))continue;let s=document.createElement("li");s.classList.add("select__option"),s.innerHTML=this.basicSelect[e].innerHTML,t.appendChild(s)}this.options=this.elem.querySelectorAll(".select__option"),this.listMaxHeight=this.elem.querySelector(".select__list").offsetHeight;let s=this;for(let e=0;e<this.options.length;e++)this.options[e].addEventListener("click",(function(){s.selectItem(event,s,e)}));this.header.addEventListener("click",this.showList.bind(this)),window.addEventListener("click",this.hideList.bind(this),{capture:!0}),this.isOpened=!1,e.firstOptSelected?(this.headertext.innerHTML=this.options[0].innerHTML,this.options[0].classList.add("_selected"),this.basicSelect[0].parentElement.removeChild(this.basicSelect[0])):this.headertext.innerHTML=this.basicSelect[0].innerHTML,this.onselect=e.onselect||function(e){}}hideList(e){if(!this.isOpened)return;this.list.style.height="",this.elem.classList.remove("_active"),this.list.classList.remove("_active");let t=this;setTimeout((()=>{t.isOpened=!1}),100)}showList(e){this.isOpened||(this.list.style.height=this.listMaxHeight+"px",this.elem.classList.add("_active"),this.list.classList.add("_active"),this.isOpened=!0)}selectItem(e,t,s){for(let s=0;s<e.target.parentElement.children.length;s++)e.target.parentElement.children[s].classList.remove("_selected"),t.basicSelect[s].removeAttribute("selected");e.target.classList.add("_selected"),t.basicSelect[s+1].setAttribute("selected","true"),t.onselect(t.basicSelect[s+1].value),t.headertext.innerHTML=e.target.innerHTML}}let form_select_prop_type=new Select({elem:"select--prop-type"}),form_select_bedrooms=new Select({elem:"select--bedrooms"});const swiper=new Swiper(".swiper",{pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},loop:!0}),tabsBlockButtons=document.querySelectorAll(".tabs__btn");for(let e=0;e<tabsBlockButtons.length;e++)tabsBlockButtons[e].addEventListener("click",(function(){let e=this.parentElement.children,t=this.closest(".tabs").querySelectorAll(".tabs__content-item");for(let e=0;e<t.length;e++)t[e].classList.remove("_active");for(let s=0;s<e.length;s++)e[s].classList.remove("_active"),e[s]==this&&(e[s].classList.add("_active"),t[s].classList.add("_active"))}));