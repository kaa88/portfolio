const mobileSwitchWidth=910;let recounter={breakpoints:{668:()=>{myBigSlider.buildSlides()},910:()=>{headerMenu.element.classList.contains("_active")&&headerMenu.toggle(),hidingHeader.init(),submenu.updateEvents(),myBigSlider.buildSlides(!0)},1228:()=>{myBigSlider.buildSlides()}},check:function(e,t=!1){for(let e=0;e<this.breakpoints.keys.length&&window.innerWidth>this.breakpoints.keys[e];e++)this.state=this.breakpoints.keys[e];t&&(this.prev_state=this.state),this.state==this.prev_state||t||(this.state>this.prev_state?this.breakpoints[this.state]():this.breakpoints[this.prev_state](),this.prev_state=this.state)},init:function(){this.breakpoints.keys=Object.keys(this.breakpoints);for(let e=0;e<this.breakpoints.keys.length;e++)this.breakpoints.keys[e]=Number(this.breakpoints.keys[e]);this.breakpoints.keys.push(0),this.breakpoints.keys.sort(((e,t)=>e-t)),window.addEventListener("resize",this.check.bind(this)),this.check(0,!0)}};recounter.init();let transitionLock={locked:!1,check:function(e=0){let t=this,i=this.locked;return 0==t.locked&&(t.locked=!0,setTimeout((function(){t.locked=!1}),e)),i}},scrollLock={initializer:null,items:document.body.children};for(let e=0;e<scrollLock.items.length;e++)scrollLock.items[e].basePadding=Number(getComputedStyle(scrollLock.items[e]).paddingRight.slice(0,-2));scrollLock.calc=function(){scrollLock.scrollbarWidth=window.innerWidth-document.body.offsetWidth},window.addEventListener("resize",scrollLock.calc),scrollLock.calc(),scrollLock.lock=function(e){let t=scrollLock;e&&null==t.initializer&&(t.initializer=e,t.initializer.basePadding=Number(getComputedStyle(t.initializer).paddingRight.slice(0,-2))),t.initializer&&(t.initializer.style.paddingRight=t.initializer.basePadding+t.scrollbarWidth+"px");for(let e=0;e<t.items.length;e++)t.items[e].style.paddingRight=t.items[e].basePadding+t.scrollbarWidth+"px";document.body.classList.add("_locked")},scrollLock.unlock=function(e,t=0){let i=scrollLock;setTimeout((function(){i.initializer&&(i.initializer.style.paddingRight=i.initializer.basePadding+"px",i.initializer=null);for(let e=0;e<i.items.length;e++)i.items[e].style.paddingRight=i.items[e].basePadding+"px";document.body.classList.remove("_locked")}),t)};let headerMenu={timeout:400};headerMenu.element=document.querySelector(".menu__container"),headerMenu.buttons=document.querySelectorAll(".menu-open-btn, .menu-close-btn, .menu-turn-off-area"),headerMenu.init=function(){let e=document.getElementsByClassName("menu__items")[0],t=headerMenuOptions;if(t.links){let i={};for(let t=0;t<e.children.length;t++)i[e.children[t].dataset.name]=e.children[t];e.innerHTML="";for(let s=0;s<t.links.length;s++)e.appendChild(i[t.links[s]])}if(t.activeLink)for(let i=0;i<e.children.length;i++)if(e.children[i].dataset.name==t.activeLink){e.children[i].firstElementChild.classList.add("this-page");break}t.elem=document.querySelector("#headerMenuOptions"),t.elem.parentElement.removeChild(t.elem)},headerMenu.toggle=function(){let e=headerMenu;if(!transitionLock.check(e.timeout)){if(e.element.classList.contains("_active")){e.element.classList.remove("_active");for(let t=0;t<e.buttons.length;t++)e.buttons[t].classList.remove("_active");scrollLock.unlock(e.element,e.timeout)}else{e.element.classList.add("_active");for(let t=0;t<e.buttons.length;t++)e.buttons[t].classList.add("_active");scrollLock.lock(e.element),hidingHeader.scroll(0,!0)}submenu.list.classList.contains("_visible")&&(submenu.link.classList.remove("_active"),submenu.list.classList.remove("_visible"))}};for(let e=0;e<headerMenu.buttons.length;e++)headerMenu.buttons[e].addEventListener("click",headerMenu.toggle);headerMenu.init();let hidingHeader={elem:document.querySelector(".header")};hidingHeader.visiblePosition=Number(getComputedStyle(hidingHeader.elem).top.slice(0,-2)),hidingHeader.hiddenPosition=-1*hidingHeader.elem.offsetHeight,hidingHeader.scroll=function(e,t){if(window.innerWidth>910)return;let i=hidingHeader;if(t)return i.elem.style.top=i.visiblePosition+"px",void(i.currentPos=i.visiblePosition);(pageYOffset<i.Y+i.diff&&i.Y>i.YPrev||pageYOffset>i.Y+i.diff&&i.Y<i.YPrev)&&(i.diff=pageYOffset-i.Y),i.YPrev=i.Y,i.Y=pageYOffset-i.diff,i.currentPos-=i.Y-i.YPrev,i.currentPos>i.visiblePosition&&(i.currentPos=i.visiblePosition),i.currentPos<i.hiddenPosition&&(i.currentPos=i.hiddenPosition),i.elem.style.top=i.currentPos+"px"},hidingHeader.init=function(){let e=hidingHeader;e.Y=e.YPrev=pageYOffset,e.diff=0,e.currentPos=e.visiblePosition,e.elem.style.top=e.currentPos+"px",window.addEventListener("scroll",hidingHeader.scroll)},window.addEventListener("load",hidingHeader.init);let submenu={link:document.querySelector("._drop-link"),list:document.querySelector(".menu__dropdown"),backButton:document.querySelector(".menu-back-btn"),header:document.querySelector(".header"),open:function(e){e.preventDefault(),submenu.link.classList.add("_active"),submenu.list.classList.add("_visible")},close:function(){submenu.link.classList.remove("_active"),submenu.list.classList.remove("_visible")},updateEvents:function(){window.innerWidth<=910?(this.link.removeEventListener("mouseover",this.open),this.header.removeEventListener("mouseleave",this.close),this.link.addEventListener("click",this.open)):(this.link.addEventListener("mouseover",this.open),this.header.addEventListener("mouseleave",this.close),this.link.removeEventListener("click",this.open))}};submenu.backButton.addEventListener("click",submenu.close),submenu.updateEvents();let modal={init:function(e){if(this.elemName=e.elem||"modal",this.elem=document.querySelector("."+this.elemName),!this.elem)return;this.timeout=e.timeout||500,this.windows=this.elem.querySelectorAll("."+this.elemName+"__window"),this.links=document.querySelectorAll(e.linkName?"."+e.linkName:".modal-link");for(let e=0;e<this.links.length;e++)this.links[e].addEventListener("click",this.open.bind(this));this.elem.addEventListener("click",function(e){e.target.closest("."+this.elemName+"__content")||this.closeAll()}.bind(this));let t=this.elem.querySelectorAll("."+this.elemName+"__close-button");for(let e=0;e<t.length;e++)t[e].addEventListener("click",this.closeThis.bind(this));this.on=e.on||{}},open:function(e){if(transitionLock.check(this.timeout))return;e.preventDefault();let t=e.currentTarget.getAttribute("href").replace("#",""),i=this.elem.querySelector("#"+t);i.classList.add("_open"),this.on[i.id]&&this.on[i.id].open&&this.on[i.id].open(e),modal.check()},closeThis:function(e){if(transitionLock.check(this.timeout))return;let t=e.target.closest("."+this.elemName+"__window");t.classList.remove("_open"),this.on[t.id]&&this.on[t.id].close&&this.on[t.id].close(e),modal.check()},closeAll:function(){if(!transitionLock.check(this.timeout)){for(let e=0;e<this.windows.length;e++)this.windows[e].classList.contains("_open")&&(this.windows[e].classList.remove("_open"),this.on[this.windows[e].id]&&this.on[this.windows[e].id].close&&this.on[this.windows[e].id].close());modal.check()}},check:function(){let e=0;for(let t=0;t<this.windows.length;t++)this.windows[t].classList.contains("_open")&&e++;e?(this.elem.classList.add("_visible"),scrollLock.lock(this.elem)):(this.elem.classList.remove("_visible"),scrollLock.unlock(this.elem,this.timeout))}};modal.init({timeout:700,on:{"modal-contact":{close:function(){setTimeout((()=>{formToEmail.clean(document.querySelector(".question-form"))}),700)}},"modal-order":{close:function(){setTimeout((()=>{formToEmail.clean(document.querySelector(".question-form"))}),700)}},"modal-imgpreview":{open:function(e){let t=e.currentTarget.children[e.currentTarget.children.length-1],i=document.querySelector("#modal-imgpreview img");i.src=t.getAttribute("src").replace(".","-preview."),t.srcset?i.srcset=t.srcset.replace("@2x.","-preview@2x."):i.srcset=""},close:function(e){let t=document.querySelector("#modal-imgpreview img");setTimeout((()=>{t.src=t.srcset=""}),modal.timeout)}},"modal-video":{open:function(){setTimeout((()=>{videoPlayer.play(0,"play")}),700)},close:function(){videoPlayer.play(0,"pause")}}}});let formToEmail={demo:!0,messages:{ok:"Your message has been sent",okDemo:"Your message has been sent (demo)",error:"Error when sending a message",emptyReqField:"Fill in the required fields, please",incorrectName:"Incorrect name",incorrectPhone:"Incorrect phone number",incorrectEmail:"Incorrect email"}};formToEmail.inputs=document.querySelectorAll("form input");for(let e=0;e<formToEmail.inputs.length;e++)formToEmail.inputs[e].addEventListener("input",(function(){this.classList.remove("_error")}));formToEmail.send=async function(e){e.preventDefault();let t=e.target.querySelector(".question-form__report");t.classList.remove("ok"),t.classList.remove("er");let i=this.check(e.target);if(i[0])return t.classList.add("er"),void(1==i[0]?t.innerHTML=i[1][0]:t.innerHTML=this.messages.emptyReqField);t.innerHTML="";let s,n=new FormData(e.target);n.append("form",e.target.getAttribute("name")),this.addCustomInputs(e,n,"input-range"),this.log(n),e.target.classList.add("_sending"),this.demo?(s=await new Promise((function(e,t){setTimeout((()=>e()),2e3)})),s={ok:!0}):s=await fetch("php/sendmail.php",{method:"POST",body:n}),s.ok?(t.classList.add("ok"),this.demo?t.innerHTML=this.messages.okDemo:t.innerHTML=this.messages.ok,this.clean(e.target,!1)):(t.classList.add("er"),t.innerHTML=this.messages.error),e.target.classList.remove("_sending")},formToEmail.check=function(e){let t=[],i=e.querySelectorAll("input, textarea");for(let e=0;e<i.length;e++)if(i[e].classList.remove("_error"),i[e].classList.contains("_req")&&""==i[e].value)i[e].classList.add("_error"),t.push(this.messages.emptyReqField);else switch(i[e].getAttribute("name")){case"name":i[e].value&&0==/^.{2,}$/.test(i[e].value)&&(i[e].classList.add("_error"),t.push(this.messages.incorrectName));break;case"email":i[e].value&&0==/^[a-zA-Z-.]{3,}@[a-z]{3,}\.[a-z]{2,5}$/.test(i[e].value)&&(i[e].classList.add("_error"),t.push(this.messages.incorrectEmail));break;case"phone":i[e].value&&0==/^\+\d\s\(\d{3}\)\s\d{3}(-\d\d){2}$/.test(i[e].value)&&(i[e].classList.add("_error"),t.push(this.messages.incorrectPhone))}return[t.length,t]},formToEmail.log=function(e){for(let t of e.entries())console.log(t[0]+": "+t[1])},formToEmail.addCustomInputs=function(e,t,i){let s=e.target.querySelectorAll("."+i);for(let e=0;e<s.length;e++)t.append(s[e].getAttribute("name"),s[e].getAttribute("value"))},formToEmail.clean=function(e,t=!0){if(!e)return;let i=e.querySelectorAll("input, textarea");for(let e=0;e<i.length;e++)i[e].hasAttribute("name")&&(i[e].value=""),t&&i[e].classList.remove("_error");if(t){let t=e.querySelector(".question-form__report");t.classList.remove("ok"),t.classList.remove("er"),t.innerHTML=""}};for(let e=0;e<document.forms.length;e++)document.forms[e].addEventListener("submit",formToEmail.send.bind(formToEmail));function Select(e,t=!0){if(this.elemName=e?"."+e:".select",this.elem=document.querySelector(this.elemName),!this.elem)return;this.header=this.elem.querySelector(".select__header-text"),this.list=this.elem.querySelector(".select__list-wrapper"),this.list.innerHTML="",this.basicSelect=this.elem.querySelectorAll("select option");let i=document.createElement("ul");i.classList.add("select__list"),this.list.appendChild(i);for(let e=0;e<this.basicSelect.length;e++){if(this.basicSelect[e].hasAttribute("disabled"))continue;let t=document.createElement("li");t.classList.add("select__option"),t.innerHTML=this.basicSelect[e].innerHTML,i.appendChild(t)}this.options=this.elem.querySelectorAll(".select__option"),this.listMaxHeight=this.elem.querySelector(".select__list").offsetHeight,this.listMinHeight=0,this.hideList();let s=this;for(let e=0;e<this.options.length;e++)this.options[e].addEventListener("click",(function(){s.setToSelected(event,s,e)})),this.options[e].addEventListener("click",this.selectItem.bind(this));t?(this.header.innerHTML=this.options[0].innerHTML,this.options[0].classList.add("_selected"),this.basicSelect[0].parentElement.removeChild(this.basicSelect[0])):this.header.innerHTML=this.basicSelect[0].innerHTML,this.onselect=function(e){}}formToEmail.editPhoneByMask=function(e){e.keyCode&&(keyCode=e.keyCode),this.selectionStart<3&&e.preventDefault();var t="+7 (___) ___-__-__",i=0,s=t.replace(/\D/g,""),n=this.value.replace(/\D/g,""),r=t.replace(/[_\d]/g,(function(e){return i<n.length?n.charAt(i++)||s.charAt(i):e}));-1!=(i=r.indexOf("_"))&&(i<5&&(i=3),r=r.slice(0,i));var o=t.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(o=new RegExp("^"+o+"$")).test(this.value)||this.value.length<5||keyCode>47&&keyCode<58)&&(this.value=r),"blur"==e.type&&this.value.length<5&&(this.value="")},formToEmail.phoneField=document.querySelector(".question-form__phone"),formToEmail.phoneField&&(formToEmail.phoneField.addEventListener("input",formToEmail.editPhoneByMask,!1),formToEmail.phoneField.addEventListener("focus",formToEmail.editPhoneByMask,!1),formToEmail.phoneField.addEventListener("blur",formToEmail.editPhoneByMask,!1),formToEmail.phoneField.addEventListener("keydown",formToEmail.editPhoneByMask,!1)),Select.prototype.hideList=function(e){this.list.style.height=this.listMinHeight+"px",this.header.classList.remove("_active"),this.list.classList.remove("_active"),this.header.parentElement.addEventListener("click",this.showList.bind(this),{once:!0})},Select.prototype.showList=function(e){e.stopPropagation(),this.list.style.height=this.listMaxHeight+"px",this.header.classList.add("_active"),this.list.classList.add("_active"),window.addEventListener("click",this.hideList.bind(this),{once:!0})},Select.prototype.setToSelected=function(e,t,i){for(let i=0;i<e.target.parentElement.children.length;i++)e.target.parentElement.children[i].classList.remove("_selected"),t.basicSelect[i].removeAttribute("selected");e.target.classList.add("_selected"),t.basicSelect[i+1].setAttribute("selected","true"),t.onselect(t.basicSelect[i+1].value)},Select.prototype.selectItem=function(){for(let e=0;e<this.options.length;e++)if(this.options[e].classList.contains("_selected")){this.header.innerHTML=this.options[e].innerHTML;break}};let projects_select=new Select("mybigslider__select",!1);projects_select.onselect=function(e){myBigSlider.filter(e)};let videoPlayer={create:function(){videoPlayer.video=document.querySelector(".video-player video"),videoPlayer.window=document.querySelector(".video-controls"),videoPlayer.playArea=document.querySelector(".video-controls__area"),videoPlayer.playAreaBtn=document.querySelector(".video-controls__area-btn"),videoPlayer.panel=document.querySelector(".video-controls__panel"),videoPlayer.playBtn=document.querySelector(".video-controls__play-pause"),videoPlayer.seekBar=document.querySelector(".video-controls__seek-bar input"),videoPlayer.volBtn=document.querySelector(".video-controls__volume-btn"),videoPlayer.volBar=document.querySelector(".video-controls__volume-bar input"),videoPlayer.hidingTimeout=0,videoPlayer.window&&(videoPlayer.window.addEventListener("mousemove",videoPlayer.showOnMousemove),videoPlayer.playArea.addEventListener("click",videoPlayer.play),videoPlayer.playBtn.addEventListener("click",videoPlayer.play),videoPlayer.video.addEventListener("timeupdate",videoPlayer.seekBarUpdate),videoPlayer.seekBar.addEventListener("mousedown",videoPlayer.seekBarMousedown),videoPlayer.seekBar.addEventListener("mouseup",videoPlayer.seekBarMouseup),videoPlayer.seekBar.addEventListener("change",videoPlayer.seekBarChange),videoPlayer.video.volume=videoPlayer.volBar.value/100,videoPlayer.volBtn.addEventListener("click",videoPlayer.mute),videoPlayer.volBar.addEventListener("input",videoPlayer.setVolume))},destroy:function(){videoPlayer.window&&(videoPlayer.window.removeEventListener("mousemove",videoPlayer.showOnMousemove),videoPlayer.playArea.removeEventListener("click",videoPlayer.play),videoPlayer.playBtn.removeEventListener("click",videoPlayer.play),videoPlayer.video.removeEventListener("timeupdate",videoPlayer.seekBarUpdate),videoPlayer.seekBar.removeEventListener("mousedown",videoPlayer.seekBarMousedown),videoPlayer.seekBar.removeEventListener("mouseup",videoPlayer.seekBarMouseup),videoPlayer.seekBar.removeEventListener("change",videoPlayer.seekBarChange),videoPlayer.volBtn.removeEventListener("click",videoPlayer.mute),videoPlayer.volBar.removeEventListener("input",videoPlayer.setVolume))},showOnMousemove:function(){videoPlayer.video&&(videoPlayer.panel.classList.remove("_hidden"),clearTimeout(videoPlayer.hidingTimeout),0==videoPlayer.video.paused&&(videoPlayer.hidingTimeout=setTimeout((function(){videoPlayer.panel&&videoPlayer.panel.classList.add("_hidden")}),2e3)))},play:function(e,t){function i(){videoPlayer.video.play(),videoPlayer.playAreaBtn.classList.add("_hidden")}function s(){videoPlayer.video.pause(),videoPlayer.playAreaBtn.classList.remove("_hidden")}videoPlayer.video&&(t?("play"==t&&i(),"pause"==t&&s()):1==videoPlayer.video.paused?i():s(),videoPlayer.showOnMousemove())},seekBarUpdate:function(){let e=100/videoPlayer.video.duration*videoPlayer.video.currentTime;videoPlayer.seekBar.value=e,videoPlayer.seekBar.dispatchEvent(new Event("input"))},seekBarMousedown:function(){videoPlayer.video.removeEventListener("timeupdate",videoPlayer.seekBarUpdate)},seekBarMouseup:function(){videoPlayer.video.addEventListener("timeupdate",videoPlayer.seekBarUpdate)},seekBarChange:function(){let e=videoPlayer.video.duration*(videoPlayer.seekBar.value/100);videoPlayer.video.currentTime=e},mute:function(){0==videoPlayer.video.muted?(videoPlayer.video.muted=!0,videoPlayer.volBtn.classList.add("_off"),videoPlayer.volBar.value=0,videoPlayer.volBar.dispatchEvent(new Event("change"))):(videoPlayer.video.muted=!1,videoPlayer.volBtn.classList.remove("_off"),videoPlayer.volBar.value=100*videoPlayer.video.volume,videoPlayer.volBar.dispatchEvent(new Event("change")))},setVolume:function(){videoPlayer.video.volume=videoPlayer.volBar.value/100}};videoPlayer.create();let myBigSlider={names:{slider:"mybigslider__slider",wrapper:"mybigslider__wrapper",slide:"mybigslider__slide",navigation:"mybigslider__nav",pagination:"mybigslider__pagination",pagination_btn:"pagination__button",next_btn:"mybigslider__btn-right",more_btn:"mybigslider__btn-more",select:"mybigslider__select"},init:function(){document.querySelector("."+this.names.slider).classList.contains("--news")&&(this.options={type:"news",modif:"--white",slideSize:[6,12,6,9]},this.names.image="news-card__img img"),document.querySelector("."+this.names.slider).classList.contains("--projects")&&(this.options={type:"projects",modif:0,slideSize:[6,6,6,6]},this.names.image="project-card__img img"),this.wrapper=document.querySelector("."+this.names.wrapper),this.pagination={elem:document.querySelector("."+this.names.pagination)},document.querySelector("."+this.names.next_btn).addEventListener("click",this.slideTo.bind(this)),document.querySelector("."+this.names.more_btn).addEventListener("click",this.addMore.bind(this)),swiperCustoms.jsonLoad(this.options.type).then((e=>{this.slidesData=e[this.options.type],this.buildSlides(!0)}))},buildSlides:function(e){if(!document.querySelector("."+this.names.slider))return;if(!e&&document.querySelector("."+this.names.slider).classList.contains("--projects"))return;let t=[],i=[],s=0,n=0,r=this.options.slideSize[recounter.breakpoints.keys.indexOf(recounter.state)],o=swiperCustoms.initVirtual(this.options.type,this.options.modif,this.slidesDataFilter?this.slidesDataFilter:this.slidesData,!0,!0);for(;s<o.length;){let e=[];for(let t=0;t<r&&(e.push(o[s]),s++,s!=o.length);t++);n++,t.push('<div class="'+this.names.slide+'">'+e.join("")+"</div>"),i.push('<div class="'+this.names.pagination_btn+'">'+n+"</div>")}if(this.wrapper.innerHTML=t.join(""),i.length>7){let e=i.splice(i.length-2,2),t=document.createElement("div");t.className="pagination__wrapper",this.pagination.main=document.createElement("div"),this.pagination.main.className="pagination__main",t.appendChild(this.pagination.main),this.pagination.suffix=document.createElement("div"),this.pagination.suffix.className="pagination__suffix",this.pagination.elem.innerHTML="",this.pagination.elem.appendChild(t),this.pagination.elem.appendChild(this.pagination.suffix),this.pagination.main.innerHTML=i.join(""),this.pagination.suffix.innerHTML=e.join(""),this.pagination.suffix.children[0].classList.add("_inactive")}else this.pagination.elem.innerHTML=i.join("");this.pagination.position=0,this.pagination.btnWidth=Number(getComputedStyle(document.querySelector("."+this.names.pagination_btn)).width.slice(0,-2))+Number(getComputedStyle(document.querySelector("."+this.names.pagination_btn)).marginRight.slice(0,-2)),this.pagination.buttons=this.pagination.elem.querySelectorAll("."+this.names.pagination_btn);for(let e=0;e<this.pagination.buttons.length;e++)this.pagination.buttons[e].addEventListener("click",this.slideTo.bind(this));this.activeIndex=0,document.querySelector("."+this.names.navigation).classList.remove("_hidden"),this.slideTo()},slideTo:function(e){if(e)if(e.currentTarget.classList.contains(this.names.next_btn)){if(!(this.activeIndex<this.pagination.buttons.length-1))return;this.activeIndex++}else this.activeIndex=e.currentTarget.innerHTML-1;for(let e=0;e<this.pagination.buttons.length;e++)this.pagination.buttons[e].classList.remove("_active"),this.pagination.buttons[e].innerHTML==this.activeIndex+1&&this.pagination.buttons[e].classList.add("_active");this.wrapper.style.left=-100*this.activeIndex+"%",this.lazyLoad(),this.pagination.main&&this.slideToCollapsed()},slideToCollapsed:function(){this.activeIndex>2&&this.activeIndex<this.pagination.buttons.length-5?this.pagination.position=(this.activeIndex-2)*-this.pagination.btnWidth:(this.activeIndex<=2&&(this.pagination.position=0),this.activeIndex>=this.pagination.buttons.length-5&&(this.pagination.position=(this.pagination.buttons.length-7)*-this.pagination.btnWidth,this.pagination.suffix.children[0].classList.remove("_inactive"))),this.activeIndex<this.pagination.buttons.length-5&&this.pagination.suffix.children[0].classList.add("_inactive"),this.pagination.main.style.left=this.pagination.position+"px"},addMore:function(){this.wrapper.children[++this.activeIndex].classList.add("_visible"),this.activeIndex>=this.pagination.buttons.length-1&&document.querySelector("."+this.names.navigation).classList.add("_hidden"),this.lazyLoad()},lazyLoad:function(){let e=this.wrapper.children[this.activeIndex].querySelectorAll("."+this.names.image);if(e[0].src!=e[0].dataset.src)for(let t=0;t<e.length;t++)e[t].dataset.src&&(e[t].src=e[t].dataset.src),e[t].dataset.srcset&&(e[t].srcset=e[t].dataset.srcset),e[t].addEventListener("load",(function(){this.parentElement.querySelector(".image-loader").style.display="none"}))},filter:function(e){this.slidesDataFilter=[];for(let t=0;t<this.slidesData.length;t++)this.slidesData[t].type==e&&this.slidesDataFilter.push(this.slidesData[t]);this.buildSlides(!0)}},swiperCustoms={swipers:{}};swiperCustoms.slidePattern={projects:document.querySelector("#projects-data-pattern"),news:document.querySelector("#news-data-pattern")},swiperCustoms.slidePattern.projects&&(swiperCustoms.slidePattern.projects.parentElement.innerHTML=""),swiperCustoms.slidePattern.news&&(swiperCustoms.slidePattern.news.parentElement.innerHTML=""),swiperCustoms.settings={projects:{name:"projects",cls:".projects__swiper",modif:["large","medium"],init:function(e){e.jsonLoad(this.name).then((t=>{for(let i=0;i<this.modif.length;i++){this.swiperParams[this.modif[i]].virtual.slides=e.initVirtual(this.name,"--"+this.modif[i],t[this.name],!0,!0),e.swipers[this.name+"_"+this.modif[i]]=new Swiper(this.cls+"--"+this.modif[i],this.swiperParams[this.modif[i]])}e.swipers.projects_large.controller.control=e.swipers.projects_medium}))},swiperParams:{large:{virtual:{addSlidesAfter:1},navigation:{prevEl:".projects-slider-btn-left",nextEl:".projects-slider-btn-right"},pagination:{el:".projects .arrow-navigation__counter",type:"fraction",formatFractionCurrent:function(e){return swiperCustoms.paginationFormat(e)},formatFractionTotal:function(e){return swiperCustoms.paginationFormat(e)}},preloadImages:!1,lazy:!0,loadPrevNext:!0,loadPrevNextAmount:2,speed:500,effect:"fade",noSwipingClass:"swiper-slide"},medium:{virtual:{},preloadImages:!1,lazy:!0,loadPrevNext:!0,loadPrevNextAmount:2,speed:500,effect:"fade",noSwipingClass:"swiper-slide"}}},newsline:{name:"news",subname:"line",cls:".newsline__swiper",init:function(e){e.jsonLoad(this.name).then((t=>{let i="",s=e.initVirtual(this.name,0,t[this.name],!1,!0);for(let e=0;e<s.length&&10!=e;e++)i+=s[e];document.querySelector(this.cls).children[0].innerHTML=i,e.swipers[this.name+this.subname]=new Swiper(this.cls,this.swiperParams)}))},swiperParams:{navigation:{prevEl:".newsline-slider-btn-left",nextEl:".newsline-slider-btn-right"},slidesPerView:"auto",spaceBetween:11,speed:500,loop:!0,slidesOffsetBefore:11,breakpoints:{1228:{slidesOffsetBefore:0,centeredSlides:!0,initialSlide:1,spaceBetween:30}}}},news_other:{name:"news",subname:"_other",cls:".othernews__swiper",modif:"white",init:function(e){e.jsonLoad(this.name).then((t=>{let i="",s=e.initVirtual(this.name,"--"+this.modif,t[this.name],!1,!0);for(let e=0;e<s.length&&10!=e;e++)i+=s[e];document.querySelector(this.cls).children[0].innerHTML=i,e.swipers[this.name+this.subname]=new Swiper(this.cls,this.swiperParams)}))},swiperParams:{navigation:{prevEl:".othernews-slider-btn-left",nextEl:".othernews-slider-btn-right"},slidesPerView:"auto",spaceBetween:11,speed:500,breakpoints:{910:{slidesOffsetBefore:15},1228:{slidesOffsetBefore:0,spaceBetween:30}}}},news_article_images:{name:"news_article_images",cls:".news-images__swiper",init:function(e){e.removeLazy(this.cls),e.swipers[this.name]=new Swiper(this.cls,this.swiperParams)},swiperParams:{navigation:{prevEl:".newsimgs-slider-btn-left",nextEl:".newsimgs-slider-btn-right"},slidesPerView:"auto",spaceBetween:11,speed:500,slidesOffsetBefore:15,breakpoints:{910:{slidesPerView:3,spaceBetween:30,slidesOffsetBefore:0}}}},letters:{name:"letters",cls:".letters__swiper",init:function(e){e.removeLazy(this.cls),e.swipers[this.name]=new Swiper(this.cls,this.swiperParams)},swiperParams:{slideClass:"letter",navigation:{prevEl:".letters-slider-btn-left",nextEl:".letters-slider-btn-right"},pagination:{el:".letters .arrow-navigation__counter",type:"fraction",formatFractionCurrent:function(e){return swiperCustoms.paginationFormat(e)},formatFractionTotal:function(e){return swiperCustoms.paginationFormat(e)}},slidesPerView:"auto",slidesOffsetBefore:10,breakpoints:{1199:{spaceBetween:20},1420:{spaceBetween:40}}}},licenses:{name:"licenses",cls:".licenses__swiper",init:function(e){e.removeLazy(this.cls),e.swipers[this.name]=new Swiper(this.cls,this.swiperParams)},swiperParams:{slideClass:"document",navigation:{prevEl:".licenses-slider-btn-left",nextEl:".licenses-slider-btn-right"},slidesPerView:"auto",slidesOffsetBefore:15,slidesOffsetAfter:15,spaceBetween:5,breakpoints:{910:{spaceBetween:20},1100:{spaceBetween:41}}}},standards:{name:"standards",cls:".standards__swiper",init:function(e){e.removeLazy(this.cls),e.swipers[this.name]=new Swiper(this.cls,this.swiperParams)},swiperParams:{slideClass:"document",navigation:{prevEl:".standards-slider-btn-left",nextEl:".standards-slider-btn-right"},pagination:{el:".standards .arrow-navigation__counter",type:"fraction",formatFractionCurrent:function(e){return swiperCustoms.paginationFormat(e)},formatFractionTotal:function(e){return swiperCustoms.paginationFormat(e)}},slidesPerView:"auto",slidesOffsetBefore:30,slidesOffsetAfter:45,spaceBetween:10,breakpoints:{910:{spaceBetween:38,slidesOffsetBefore:15,slidesOffsetAfter:0}}}},partners:{name:"partners",cls:".partners__swiper",init:function(e){e.removeLazy(this.cls),this.swiperParams.loopedSlides=document.querySelector(this.cls).children[0].children.length,e.swipers[this.name]=new Swiper(this.cls,this.swiperParams)},swiperParams:{navigation:{prevEl:".partners-slider-btn-left",nextEl:".partners-slider-btn-right"},speed:500,loop:!0,slidesPerView:"auto",spaceBetween:15,breakpoints:{500:{spaceBetween:30},910:{slidesPerView:5},1260:{slidesPerView:7}}}}},swiperCustoms.initNewSwiper=function(e){if(e)for(let t in this.settings)if(this.settings[t].cls==e){this.settings[t].init(this);break}},swiperCustoms.initVirtual=function(e,t,i,s,n){function r(i,r,o){switch(r){case"elem":i.dataset.type=o.type,t&&i.classList.add(t);break;case"title":i.innerHTML=o.title;break;case"date":i.innerHTML=o.date;break;case"loc":i.innerHTML=o.location;break;case"descr":i.innerHTML=o.description;break;case"text":i.innerHTML=o.text;break;case"link":"news"==e&&"--white"!=t&&i.classList.add("--white"),i.setAttribute("href",o.link);break;case"img":s?(i.dataset.src=o.imgLink,n&&(i.dataset.srcset=o.imgLink.replace(".","@2x.")+" 2x")):(i.src=o.imgLink,n&&(i.srcset=o.imgLink.replace(".","@2x.")+" 2x"));break;case"video":o.video&&""!=o.video||i.classList.add("--hidden")}}function o(e,t){for(let i=0;i<e.children.length;i++)o(e.children[i],t),e.children[i].dataset.pattern&&r(e.children[i],e.children[i].dataset.pattern,t)}if(!this.slidePattern[e])return;let a=[];for(let s=0;s<i.length;s++){if(0==s&&"--medium"==t)continue;let n=this.slidePattern[e].cloneNode(!0);o(n,i[s]),a.push(n.innerHTML)}return"--medium"==t&&a.push('<div class="empty-slide"></div>'),a},swiperCustoms.jsonLoad=async function(e){if(!e)return;let t=await fetch("./"+e+".json");if(t.ok)return console.log('Loaded "'+e+'.json"'),t.json();console.log('Failed to load "'+e+'.json"')},swiperCustoms.paginationFormat=function(e){return e<10?"0"+e:e},swiperCustoms.removeLazy=function(e){let t=document.querySelectorAll(e+" img");for(let e=0;e<t.length;e++)t[e].removeAttribute("loading")},window.addEventListener("load",(()=>{let e=[[".mybigslider__slider",()=>{myBigSlider.init()}],[".projects__swiper",()=>{swiperCustoms.initNewSwiper(".projects__swiper")}],[".newsline__swiper",()=>{swiperCustoms.initNewSwiper(".newsline__swiper")}],[".othernews__swiper",()=>{swiperCustoms.initNewSwiper(".othernews__swiper")}],[".news-images__swiper",()=>{swiperCustoms.initNewSwiper(".news-images__swiper")}],[".standards__swiper",()=>{swiperCustoms.initNewSwiper(".standards__swiper")}],[".letters__swiper",()=>{swiperCustoms.initNewSwiper(".letters__swiper")}],[".licenses__swiper",()=>{swiperCustoms.initNewSwiper(".licenses__swiper")}],[".partners__swiper",()=>{swiperCustoms.initNewSwiper(".partners__swiper")}]];for(let t=0;t<e.length;t++)document.querySelector(e[t][0])&&e[t][1]()}));