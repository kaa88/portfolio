let mobileSwitchWidth=750,mobileSwitch={state:!1,prev_state:!1,check:function(e){let t=mobileSwitch;window.innerWidth<=mobileSwitchWidth?t.state=!0:t.state=!1,t.state!=t.prev_state&&1!=e&&t.do(),t.prev_state=t.state}};window.addEventListener("resize",mobileSwitch.check),mobileSwitch.check(!0),mobileSwitch.do=function(){headerMenu.element.classList.contains("_active")&&headerMenu.toggle(),hidingHeader.init()};let transitionLock={locked:!1,check:function(e=0){let t=transitionLock.locked;return 0==transitionLock.locked&&(transitionLock.locked=!0,setTimeout((function(){transitionLock.locked=!1}),e)),t}},scrollLock={scrollbarWidth:0,initializer:null,items:document.body.children};for(let e=0;e<scrollLock.items.length;e++)scrollLock.items[e].basePadding=Number(getComputedStyle(scrollLock.items[e]).paddingRight.slice(0,-2));scrollLock.init=function(){scrollLock.scrollbarWidth=window.innerWidth-document.body.offsetWidth},window.addEventListener("resize",scrollLock.init),scrollLock.init(),scrollLock.toggle=function(e,t=0){let i=scrollLock;if(e&&null==i.initializer&&(i.initializer=e,i.initializer.basePadding=Number(getComputedStyle(i.initializer).paddingRight.slice(0,-2))),document.body.classList.contains("_locked"))setTimeout((function(){i.initializer&&(i.initializer.style.paddingRight=i.initializer.basePadding+"px",i.initializer=null);for(let e=0;e<i.items.length;e++)i.items[e].style.paddingRight=i.items[e].basePadding+"px";document.body.classList.remove("_locked")}),t);else{i.initializer&&(i.initializer.style.paddingRight=i.initializer.basePadding+i.scrollbarWidth+"px");for(let e=0;e<i.items.length;e++)i.items[e].style.paddingRight=i.items[e].basePadding+i.scrollbarWidth+"px";document.body.classList.add("_locked")}};let headerMenu={timeout:500},hidingHeader={hiddenPosition:-100};headerMenu.element=document.querySelector(".menu__container"),headerMenu.buttons=document.querySelectorAll(".menu-open-btn, .menu-close-btn, .menu-turn-off-area"),headerMenu.init=function(){let e=document.getElementsByClassName("menu__items")[0],t=headerMenuOptions;if(t.links){let i={};for(let t=0;t<e.children.length;t++)i[e.children[t].dataset.name]=e.children[t];e.innerHTML="";for(let n=0;n<t.links.length;n++)e.appendChild(i[t.links[n]])}if(t.activeLink)for(let i=0;i<e.children.length;i++)if(e.children[i].dataset.name==t.activeLink){e.children[i].firstElementChild.classList.add("this-page");break}t.elem=document.querySelector("#headerMenuOptions"),t.elem.parentElement.removeChild(t.elem)},headerMenu.toggle=function(){let e=headerMenu;if(!transitionLock.check(e.timeout)){e.element.classList.toggle("_active");for(let t=0;t<e.buttons.length;t++)e.buttons[t].classList.toggle("_active");scrollLock.toggle(e.element,e.timeout),e.element.classList.contains("_active")&&hidingHeader.scroll(0,!0)}};for(let e=0;e<headerMenu.buttons.length;e++)headerMenu.buttons[e].addEventListener("click",headerMenu.toggle);function getRandom(e=0,t=99){return Math.floor(Math.random()*(t-e+1))+e}headerMenu.init(),hidingHeader.elem=document.querySelector(".header"),hidingHeader.visiblePosition=Number(getComputedStyle(hidingHeader.elem).top.slice(0,-2)),hidingHeader.scroll=function(e,t){if(window.innerWidth>mobileSwitchWidth)return;let i=hidingHeader;if(t)return i.elem.style.top=i.visiblePosition+"px",void(i.currentPos=i.visiblePosition);(pageYOffset<i.Y+i.diff&&i.Y>i.YPrev||pageYOffset>i.Y+i.diff&&i.Y<i.YPrev)&&(i.diff=pageYOffset-i.Y),i.YPrev=i.Y,i.Y=pageYOffset-i.diff,i.currentPos-=i.Y-i.YPrev,i.currentPos>i.visiblePosition&&(i.currentPos=i.visiblePosition),i.currentPos<i.hiddenPosition&&(i.currentPos=i.hiddenPosition),i.elem.style.top=i.currentPos+"px"},hidingHeader.init=function(){let e=hidingHeader;e.Y=e.YPrev=pageYOffset,e.diff=0,e.currentPos=e.visiblePosition,e.elem.style.top=e.currentPos+"px",window.addEventListener("scroll",hidingHeader.scroll)},window.addEventListener("load",hidingHeader.init);let bannerBG=document.querySelector(".banner__bg img");switch(getRandom(0,2)){case 2:case 0:bannerBG.src="img/banner_bg-1.jpg";break;case 1:bannerBG.src="img/banner_bg-2.jpg"}const banner_swiper=new Swiper(".banner__swiper",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},loop:!0,speed:600,spaceBetween:50});function InputRange(e){this.elemName=e.elemName||"input-range",this.input=document.querySelector(this.elemName+" input"),this.input&&(this.styleElem=document.createElement("style"),this.input.parentElement.appendChild(this.styleElem),this.trackColorStart=e.trackColorStart||"var(--track-color-start)",this.trackColorEnd=e.trackColorEnd||"var(--track-color-end)",this.input.addEventListener("input",this.fillTrack.bind(this)),this.input.addEventListener("change",this.fillTrack.bind(this)),this.fillTrack())}let iRange_seek,iRange_volume;function sliderInputsInit(){iRange_seek=new InputRange({elemName:".swiper-slide-active .video-controls__seek-bar"}),iRange_volume=new InputRange({elemName:".swiper-slide-active .video-controls__volume-bar"})}InputRange.prototype.fillTrack=function(e){e&&this.input.setAttribute("value",this.input.value);let t=this.elemName+" input::-webkit-slider-runnable-track",i=this.elemName+" input::-moz-range-track",n="{background: linear-gradient(to right,"+this.trackColorStart+" "+this.input.value+"%,"+this.trackColorEnd+" "+this.input.value+"%);}";this.styleElem.innerHTML=t+n+i+n},InputRange.prototype.destroy=function(){if(this.input){let e=this.input.parentElement.querySelector("style");e.parentElement.removeChild(e)}},sliderInputsInit();let videoPlayer={create:function(){videoPlayer.video=document.querySelector(".swiper-slide-active .video video"),videoPlayer.window=document.querySelector(".swiper-slide-active .video-controls"),videoPlayer.playArea=document.querySelector(".swiper-slide-active .video-controls__area"),videoPlayer.playAreaBtn=document.querySelector(".swiper-slide-active .video-controls__area-btn"),videoPlayer.panel=document.querySelector(".swiper-slide-active .video-controls__panel"),videoPlayer.playBtn=document.querySelector(".swiper-slide-active .video-controls__play-pause"),videoPlayer.seekBar=document.querySelector(".swiper-slide-active .video-controls__seek-bar input"),videoPlayer.volBtn=document.querySelector(".swiper-slide-active .video-controls__volume-btn"),videoPlayer.volBar=document.querySelector(".swiper-slide-active .video-controls__volume-bar input"),videoPlayer.hidingTimeout=0,videoPlayer.window&&(videoPlayer.window.addEventListener("mouseover",videoPlayer.showOnMouseover),videoPlayer.window.addEventListener("mouseleave",videoPlayer.hideOnMouseleave),videoPlayer.playArea.addEventListener("click",videoPlayer.play),videoPlayer.playBtn.addEventListener("click",videoPlayer.play),videoPlayer.video.addEventListener("timeupdate",videoPlayer.seekBarUpdate),videoPlayer.seekBar.addEventListener("mousedown",videoPlayer.seekBarMousedown),videoPlayer.seekBar.addEventListener("mouseup",videoPlayer.seekBarMouseup),videoPlayer.seekBar.addEventListener("change",videoPlayer.seekBarChange),videoPlayer.video.volume=videoPlayer.volBar.value/100,videoPlayer.volBtn.addEventListener("click",videoPlayer.mute),videoPlayer.volBar.addEventListener("input",videoPlayer.setVolume))},destroy:function(){videoPlayer.window&&(videoPlayer.window.removeEventListener("mouseover",videoPlayer.showOnMouseover),videoPlayer.window.removeEventListener("mouseleave",videoPlayer.hideOnMouseleave),videoPlayer.playArea.removeEventListener("click",videoPlayer.play),videoPlayer.playBtn.removeEventListener("click",videoPlayer.play),videoPlayer.video.removeEventListener("timeupdate",videoPlayer.seekBarUpdate),videoPlayer.seekBar.removeEventListener("mousedown",videoPlayer.seekBarMousedown),videoPlayer.seekBar.removeEventListener("mouseup",videoPlayer.seekBarMouseup),videoPlayer.seekBar.removeEventListener("change",videoPlayer.seekBarChange),videoPlayer.volBtn.removeEventListener("click",videoPlayer.mute),videoPlayer.volBar.removeEventListener("input",videoPlayer.setVolume))},showOnMouseover:function(){videoPlayer.panel.classList.remove("_hidden"),clearTimeout(videoPlayer.hidingTimeout)},hideOnMouseleave:function(){videoPlayer.video&&0==videoPlayer.video.paused&&0!=videoPlayer.seekBar.value&&(videoPlayer.hidingTimeout=setTimeout((function(){videoPlayer.panel&&videoPlayer.panel.classList.add("_hidden")}),2e3))},play:function(e,t){if(videoPlayer.video)if(1==videoPlayer.video.paused){if(t)return;videoPlayer.video.play(),videoPlayer.playBtn.children[0].className="icon-pause",videoPlayer.playAreaBtn.classList.add("_hidden"),banner_swiper.detachEvents()}else videoPlayer.video.pause(),videoPlayer.playBtn.children[0].className="icon-play",videoPlayer.playAreaBtn.classList.remove("_hidden"),banner_swiper.attachEvents()},seekBarUpdate:function(){let e=100/videoPlayer.video.duration*videoPlayer.video.currentTime;videoPlayer.seekBar.value=e,videoPlayer.seekBar.dispatchEvent(new Event("input"))},seekBarMousedown:function(){videoPlayer.video.removeEventListener("timeupdate",videoPlayer.seekBarUpdate)},seekBarMouseup:function(){videoPlayer.video.addEventListener("timeupdate",videoPlayer.seekBarUpdate)},seekBarChange:function(){let e=videoPlayer.video.duration*(videoPlayer.seekBar.value/100);videoPlayer.video.currentTime=e},mute:function(){0==videoPlayer.video.muted?(videoPlayer.video.muted=!0,videoPlayer.volBtn.classList.add("_off"),videoPlayer.volBar.value=0,videoPlayer.volBar.dispatchEvent(new Event("change"))):(videoPlayer.video.muted=!1,videoPlayer.volBtn.classList.remove("_off"),videoPlayer.volBar.value=100*videoPlayer.video.volume,videoPlayer.volBar.dispatchEvent(new Event("change")))},setVolume:function(){videoPlayer.video.volume=videoPlayer.volBar.value/100}};videoPlayer.create(),banner_swiper.on("slideChangeTransitionStart",(function(){videoPlayer.play(0,!0)})),banner_swiper.on("slideChangeTransitionEnd",(function(){videoPlayer.video&&videoPlayer.video.load(),iRange_seek.input&&(iRange_seek.input.setAttribute("value",0),iRange_seek.input.value=0),videoPlayer.destroy(),iRange_seek.destroy(),iRange_volume.destroy(),setTimeout((function(){videoPlayer.create(),sliderInputsInit()}),200)}));let yMouseScroll={elem:document.querySelector(".content-box"),scroll:function(e){this.elem.scrollLeft=5e3}};yMouseScroll.elem.addEventListener("click",yMouseScroll.scroll.bind(yMouseScroll));let twitterBox={elem:document.querySelector(".content-box__twitter"),messages:document.querySelector(".tweets__messages"),input:document.querySelector(".tweets__input input"),button:document.querySelector(".tweets__input button"),count:document.querySelector(".content-box__tweet-count")};twitterBox.elem.addEventListener("click",(function(){twitterBox.elem.classList.add("_expanded")}),{once:!0}),twitterBox.add_msg=function(e){if(this.input.value){let e=document.createElement("div");e.classList.add("tweets__bubble");let t=document.createElement("div");t.classList.add("tweets__message"),t.classList.add("message"),t.innerHTML=this.input.value,e.appendChild(t),this.messages.insertBefore(e,this.messages.children[0]),this.input.value=""}},twitterBox.listen_keys=function(e){"Enter"!=e.code&&"NumpadEnter"!=e.code||twitterBox.add_msg()},twitterBox.button.addEventListener("click",twitterBox.add_msg.bind(twitterBox)),twitterBox.input.addEventListener("keydown",twitterBox.listen_keys),twitterBox.count.innerHTML=twitterBox.messages.children.length;